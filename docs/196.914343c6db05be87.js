"use strict";(self.webpackChunkproducts_frontend=self.webpackChunkproducts_frontend||[]).push([[196],{196:(v,p,i)=>{i.r(p),i.d(p,{ProductsModule:()=>T});var f=i(4975),u=i(6895),a=i(529),n=i(433),h=i(2099),t=i(8256);const m="https://codingfactory.ddns.net/api/product";let d=(()=>{class s{constructor(o){this.http=o}findAll(){return this.http.get(`${m}/findall`).pipe((0,h.g)(1e3))}insertProduct(o){return this.http.post(`${m}/create`,o)}}return s.\u0275fac=function(o){return new(o||s)(t.LFG(a.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})();var l=i(6523);function g(s,e){1&s&&(t.TgZ(0,"div",2),t._uU(1," Loading Products ... "),t.TgZ(2,"div",3),t._UZ(3,"span",4),t.qZA()())}function Z(s,e){if(1&s&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&s){const o=e.$implicit;t.xp6(2),t.hij(" ",o.product," "),t.xp6(2),t.hij(" ",o.cost," "),t.xp6(2),t.hij(" ",o.quantity," "),t.xp6(2),t.hij(" ",o.description," ")}}function b(s,e){if(1&s){const o=t.EpF();t.TgZ(0,"div")(1,"table",5)(2,"thead")(3,"th",6)(4,"button",7),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.toggleSort("product"))}),t._uU(5," Product "),t.qZA()(),t.TgZ(6,"th",6)(7,"button",7),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.toggleSort("cost"))}),t._uU(8,"Cost"),t.qZA()(),t.TgZ(9,"th",6)(10,"button",7),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.toggleSort("quantity"))}),t._uU(11,"Quantity"),t.qZA()(),t.TgZ(12,"th",6)(13,"button",8),t._uU(14,"Description"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,Z,9,4,"tr",9),t.qZA()()()}if(2&s){const o=t.oxw();t.xp6(16),t.Q6J("ngForOf",o.productsList)}}const y=[{path:"list",component:(()=>{class s{constructor(o){this.productsService=o,this.loading=!1,this.productsList=[],this.productsSortType="asc",this.costSortType="asc",this.quantitySortType="asc"}ngOnInit(){console.log('Starting "findall" API call'),this.loading=!0,this.subscription=this.productsService.findAll().subscribe({next:o=>{const{status:r,data:c}=o;this.productsList=c,console.log(r,c)},error:o=>{this.loading=!1,console.log(o)},complete:()=>{this.loading=!1,console.log("API call completed")}})}ngOnDestroy(){this.subscription?.unsubscribe()}toggleSort(o){switch(o){case"product":this.productsSortType="asc"===this.productsSortType?"desc":"asc",this.productsList=(0,l.Z)(this.productsList,[o],[this.productsSortType]);break;case"cost":this.costSortType="asc"===this.costSortType?"desc":"asc",this.productsList=(0,l.Z)(this.productsList,[o],[this.costSortType]);break;case"quantity":this.quantitySortType="asc"===this.quantitySortType?"desc":"asc",this.productsList=(0,l.Z)(this.productsList,[o],[this.quantitySortType])}}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(d))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-products-list"]],decls:2,vars:2,consts:[["class","mt-2 row alert alert-info",4,"ngIf"],[4,"ngIf"],[1,"mt-2","row","alert","alert-info"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"table","table-striped"],["scope","col"],[1,"btn","btn-sm",3,"click"],[1,"btn","btn-sm"],[4,"ngFor","ngForOf"]],template:function(o,r){1&o&&(t.YNc(0,g,4,0,"div",0),t.YNc(1,b,17,1,"div",1)),2&o&&(t.Q6J("ngIf",r.loading),t.xp6(1),t.Q6J("ngIf",r.productsList.length))},dependencies:[u.sg,u.O5]}),s})()},{path:"insert",component:(()=>{class s{constructor(o,r){this.fb=o,this.service=r,this.form=this.fb.group({product:["",[n.kI.required,n.kI.minLength(3)]],cost:["",n.kI.required],quantity:["",n.kI.required],description:["",n.kI.required]})}onSubmit(){this.form.valid?(console.log(this.form.value),this.service.insertProduct(this.form.value).subscribe(r=>{console.log(r)})):console.log("Form is not valid")}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(n.qu),t.Y36(d))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-products-insert"]],decls:21,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","product",1,"form-label"],["type","text","id","product","formControlName","product",1,"form-control"],["for","cost",1,"form-label"],["type","cost","id","cost","formControlName","cost",1,"form-control"],["for","quantity",1,"form-label"],["type","text","id","quantity","formControlName","quantity",1,"form-control"],["for","description",1,"form-label"],["type","text","id","description","formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(o,r){1&o&&(t.TgZ(0,"h2"),t._uU(1,"Product insertion Form"),t.qZA(),t.TgZ(2,"form",0),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(3,"div",1)(4,"label",2),t._uU(5,"Product"),t.qZA(),t._UZ(6,"input",3),t.qZA(),t.TgZ(7,"div",1)(8,"label",4),t._uU(9,"Cost"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"div",1)(12,"label",6),t._uU(13,"Quantity"),t.qZA(),t._UZ(14,"input",7),t.qZA(),t.TgZ(15,"div",1)(16,"label",8),t._uU(17,"Description"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"button",10),t._uU(20," Submit "),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("formGroup",r.form),t.xp6(17),t.Q6J("disabled",!r.form.valid))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),s})()}];let T=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[d],imports:[u.ez,f.Bz.forChild(y),a.JF,n.UX]}),s})()}}]);