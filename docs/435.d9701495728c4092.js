"use strict";(self.webpackChunkproducts_frontend=self.webpackChunkproducts_frontend||[]).push([[435],{5435:(C,c,a)=>{a.r(c),a.d(c,{UserModule:()=>A});var f=a(4975),l=a(6895),d=a(529),o=a(433),h=a(2099),e=a(8256);const p="https://codingfactory.ddns.net/api/user";let m=(()=>{class r{constructor(t){this.http=t}findAll(){return this.http.get(`${p}/findall`).pipe((0,h.g)(1e3))}insertUser(t){return this.http.post(`${p}/create`,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var u=a(6523);function g(r,n){1&r&&(e.TgZ(0,"div",2),e._uU(1," Loading Users ... "),e.TgZ(2,"div",3),e._UZ(3,"span",4),e.qZA()())}function Z(r,n){if(1&r&&(e.TgZ(0,"div")(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e._uU(4),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.type),e.xp6(2),e.hij(" ",t.number," ")}}function _(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e._UZ(11,"br"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.YNc(14,Z,5,2,"div",8),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.username," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.surname," "),e.xp6(2),e.hij(" ",t.email," "),e.xp6(2),e.hij(" ",t.address.area," "),e.xp6(2),e.hij(" ",t.address.road," "),e.xp6(2),e.Q6J("ngForOf",t.phone)}}function U(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"table",5)(2,"thead")(3,"th",6)(4,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleSort("username"))}),e._uU(5," username "),e.qZA()(),e.TgZ(6,"th",6)(7,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleSort("name"))}),e._uU(8,"First"),e.qZA()(),e.TgZ(9,"th",6)(10,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleSort("surname"))}),e._uU(11,"Last"),e.qZA()(),e.TgZ(12,"th",6),e._uU(13,"Email"),e.qZA(),e.TgZ(14,"th",6),e._uU(15,"Address"),e.qZA(),e.TgZ(16,"th",6),e._uU(17,"Phone"),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,_,15,7,"tr",8),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(19),e.Q6J("ngForOf",t.userList)}}function v(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",1)(4,"label",24),e._uU(5,"Type"),e.qZA(),e._UZ(6,"input",25),e.qZA()(),e.TgZ(7,"div",23)(8,"div",1)(9,"label",26),e._uU(10,"Number"),e.qZA(),e._UZ(11,"input",27),e.qZA()(),e.TgZ(12,"div",28)(13,"div",1)(14,"button",29),e.NdJ("click",function(){const y=e.CHM(t).index,q=e.oxw();return e.KtG(q.removePhone(y))}),e._uU(15," Remove "),e.qZA()()()()()}2&r&&e.Q6J("formGroupName",n.index)}const T=[{path:"list",component:(()=>{class r{constructor(t){this.userService=t,this.loading=!1,this.userList=[],this.usernameSortType="asc",this.firstNameSortType="asc",this.lastNameSortType="asc"}ngOnInit(){console.log('Starting "findall" API call'),this.loading=!0,this.subscription=this.userService.findAll().subscribe({next:t=>{const{status:s,data:i}=t;this.userList=i,console.log(s,i)},error:t=>{this.loading=!1,console.log(t)},complete:()=>{this.loading=!1,console.log("API call completed")}})}ngOnDestroy(){this.subscription?.unsubscribe()}toggleSort(t){switch(t){case"username":this.usernameSortType="asc"===this.usernameSortType?"desc":"asc",this.userList=(0,u.Z)(this.userList,[t],[this.usernameSortType]);break;case"name":this.firstNameSortType="asc"===this.firstNameSortType?"desc":"asc",this.userList=(0,u.Z)(this.userList,[t],[this.firstNameSortType]);break;case"surname":this.lastNameSortType="asc"===this.lastNameSortType?"desc":"asc",this.userList=(0,u.Z)(this.userList,[t],[this.lastNameSortType])}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-users-list"]],decls:2,vars:2,consts:[["class","mt-2 row alert alert-info",4,"ngIf"],[4,"ngIf"],[1,"mt-2","row","alert","alert-info"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"table","table-striped"],["scope","col"],[1,"btn","btn-sm",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,s){1&t&&(e.YNc(0,g,4,0,"div",0),e.YNc(1,U,20,1,"div",1)),2&t&&(e.Q6J("ngIf",s.loading),e.xp6(1),e.Q6J("ngIf",s.userList.length))},dependencies:[l.sg,l.O5]}),r})()},{path:"insert",component:(()=>{class r{constructor(t,s){this.fb=t,this.service=s,this.form=this.fb.group({username:["",[o.kI.required,o.kI.minLength(3)]],password:["",[o.kI.required,o.kI.minLength(8)]],name:["",o.kI.required],surname:["",o.kI.required],email:["",[o.kI.required,o.kI.email]],address:this.fb.group({area:["",o.kI.required],road:["",o.kI.required]}),phone:this.fb.array([this.initPhone()])})}initPhone(){return this.fb.group({type:["",o.kI.required],number:["",[o.kI.required,o.kI.minLength(10)]]})}get phoneControls(){return this.form.get("phone").controls}addPhone(){this.form.get("phone").push(this.initPhone())}removePhone(t){this.form.get("phone").removeAt(t)}onSubmit(){this.form.valid?(console.log(this.form.value),this.service.insertUser(this.form.value).subscribe(s=>{console.log(s)})):console.log("Form is not valid")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.qu),e.Y36(m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-insert"]],decls:43,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],["for","surname",1,"form-label"],["type","text","id","surname","formControlName","surname",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["formGroupName","address"],["for","area",1,"form-label"],["type","text","id","area","formControlName","area",1,"form-control"],["for","road",1,"form-label"],["type","text","id","road","formControlName","road",1,"form-control"],["formArrayName","phone"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-success",3,"disabled"],[3,"formGroupName"],[1,"row"],[1,"col-md-5"],["for","type",1,"form-label"],["type","text","id","type","formControlName","type",1,"form-control"],["for","number",1,"form-label"],["type","text","id","number","formControlName","number",1,"form-control"],[1,"col-md-2"],["type","button",1,"btn","btn-danger","mt-4",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"h2"),e._uU(1,"User Form"),e.qZA(),e.TgZ(2,"form",0),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(3,"div",1)(4,"label",2),e._uU(5,"Username"),e.qZA(),e._UZ(6,"input",3),e.qZA(),e.TgZ(7,"div",1)(8,"label",4),e._uU(9,"Password"),e.qZA(),e._UZ(10,"input",5),e.qZA(),e.TgZ(11,"div",1)(12,"label",6),e._uU(13,"Name"),e.qZA(),e._UZ(14,"input",7),e.qZA(),e.TgZ(15,"div",1)(16,"label",8),e._uU(17,"Surname"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"div",1)(20,"label",10),e._uU(21,"Email"),e.qZA(),e._UZ(22,"input",11),e.qZA(),e.TgZ(23,"div",12)(24,"h4"),e._uU(25,"Address"),e.qZA(),e.TgZ(26,"div",1)(27,"label",13),e._uU(28,"Area"),e.qZA(),e._UZ(29,"input",14),e.qZA(),e.TgZ(30,"div",1)(31,"label",15),e._uU(32,"Road"),e.qZA(),e._UZ(33,"input",16),e.qZA()(),e.TgZ(34,"h4"),e._uU(35,"Phone"),e.qZA(),e.TgZ(36,"div",17),e.YNc(37,v,16,1,"div",18),e.qZA(),e.TgZ(38,"div",1)(39,"button",19),e.NdJ("click",function(){return s.addPhone()}),e._uU(40," Add Phone "),e.qZA()(),e.TgZ(41,"button",20),e._uU(42," Submit "),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(35),e.Q6J("ngForOf",s.phoneControls),e.xp6(4),e.Q6J("disabled",!s.form.valid))},dependencies:[l.sg,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,o.x0,o.CE]}),r})()}];let A=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[m],imports:[l.ez,f.Bz.forChild(T),d.JF,o.UX]}),r})()}}]);